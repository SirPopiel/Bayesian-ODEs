"Anno","Maj","Sett","Dott","Az","Naz","Stip")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", L$Triennale)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", L$Magistrale)
L1<-L
tonumeric <- function(A,idx){
for (i in idx){
A[i] <- sapply(A[i],as.numeric)
}
return(A)
}
L1<-tonumeric(L1,c(3,4))
View(L)
View(L1)
View(L)
rm(a9)
rm(a)
rm(L1)
L<-tonumeric(L,c(3,4,8,14))
library(corrplot)
C <- cor(L[3,4,5,8,14])
corrmap(C)
corrplot(C)
corrplot(C,method = "number",type = "upper",p.mat = res1$p, sig.level = .05, insig = 'pch')
C <- cor(L[c(3,4,5,8,14)],use = "complete.obs")
L<-tonumeric(L,c(3,4,5,8,14))
C <- cor(L[c(3,4,5,8,14)],use = "complete.obs")
corrplot(C,method = "number",type = "upper",p.mat = res1$p, sig.level = .05, insig = 'pch')
corrplot.mixed(C,method = "number",p.mat = res1$p, sig.level = .05, insig = 'pch')
L_num <- L[c(3,4,5,8,14)
C <- cor(L_num],use = "complete.obs")
L_num <- L[c(3,4,5,8,14)]
res1 <- cor.mtest(L_num, conf.level = .95)
C <- cor(L_num,use = "complete.obs")
corrplot.mixed(C,method = "number",p.mat = res1$p, sig.level = .05, insig = 'pch')
corrplot(C,method = "circle",p.mat = res1$p, sig.level = .05, insig = 'pch')
corrplot(C,method = "number",p.mat = res1$p, sig.level = .05, insig = 'pch')
l <- lm(Stip ~ Triennale + Magistrale + Durata + Anno, data=L)
l
summary(l)
vif(l)
library(car)
library(caret)
vif(l)
??vif
vif(l)
l
summary(l)
library(car)
install.packages("car")
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
l <- lm(Stip_2 ~ Triennale + Magistrale + Durata + Anno + Stip_1, data=L)
L$Stip_2
L$Stip_2[112]
L$Stip_2[111]
as.numeric(L$Stip_2[111])
L$Magistrale[grepl("/",L$Magistrale)] <- as.numeric(sub("\\c.*", "", L$Magistrale))*0.95
L$Stip_2[grepl("chf",L$Stip2)] <- as.numeric(sub("\\c.*", "", L$Magistrale))*0.95
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\c.*", "", L$Magistrale))*0.95
#Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", L$Magistrale))*0.95
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
View(L)
L$Stip_2[grepl("£",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("&",L$Stip_2)] <- as.numeric(sub("\\&.*", "", L$Magistrale))*1.15
#Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", L$Triennale)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", L$Magistrale)
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", L$Magistrale))*0.95
L$Stip_2[grepl("£",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("&",L$Stip_2)] <- as.numeric(sub("\\&.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("CAD",L$Stip_2)] <- as.numeric(sub("\\CAD.*", "", L$Magistrale))*0.66
L$Stip_2[grepl("eu",L$Stip_2)] <- as.numeric(sub("\\eu.*", "", L$Magistrale))*1
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", L$Magistrale))*0.95
#Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", L$Triennale)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", L$Magistrale)
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", L$Magistrale))*0.95
L$Stip_2[grepl("£",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("&",L$Stip_2)] <- as.numeric(sub("\\&.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("CAD",L$Stip_2)] <- as.numeric(sub("\\CAD.*", "", L$Magistrale))*0.66
L$Stip_2[grepl("eu",L$Stip_2)] <- as.numeric(sub("\\eu.*", "", L$Magistrale))*1
#Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
L$Stip_2[grepl("CAD",L$Stip_2)] <- as.numeric(sub("\\CAD.*", "", L$Magistrale))*0.66
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Stip_2[grepl("CAD",L$Stip_2)]
l<-L$Stip_2[grepl("CAD",L$Stip_2)]
as.numeric(sub("\\CAD.*", "", l))*0.66
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
l
a <- sub("\\/.*", "", l)
a
l <- L$Stip_2[grepl("chf",L$Stip_2)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
stip1
Stip_1
L$Stip_1
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + as.factor(Sesso), data=L)
l
summary(l)
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
l <- L$Magistrale[grepl("/",L$Magistrale)]
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", l)
l <- L$Stip_2[grepl("chf",L$Stip_2)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
tonumeric <- function(A,idx){
for (i in idx){
A[i] <- sapply(A[i],as.numeric)
}
return(A)
}
L<-tonumeric(L,c(3,4,5,8,14))
L_num <- L[c(3,4,5,8,14)]
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + as.factor(Sesso), data=L)
summary(l)
L[2] [L[2] == "Femmina"] <- 0
L[2] [L[2] == "Maschio"] <- 1
L[2] [L[2] == "Elohim"] <- 1
L[2] [L[2] == "elohim"] <- 1
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L[2] [L[2] == "Femmina"] <- 0
L[2] [L[2] == "Maschio"] <- 1
L[2] [L[2] == "Elohim"] <- 1
L[2] [L[2] == "elohim"] <- 1
L[2] <- sapply(L[2],as.numeric)
View(L)
L[2] [L[2] == "Femmina"] <- "0"
L[2] [L[2] == "Maschio"] <- "1"
L[2] [L[2] == "Elohim"] <- "1"
L[2] [L[2] == "elohim"] <- "1"
L[2] <- sapply(L[2],as.numeric)
View(L)
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
l <- L$Magistrale[grepl("/",L$Magistrale)]
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", l)
l <- L$Stip_2[grepl("chf",L$Stip_2)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
L[2] [L[2] == "Femmina"] <- "0"
L[2] [L[2] == "Maschio"] <- "1"
L[2] [L[2] == "Elohim"] <- "1"
L[2] [L[2] == "elohim"] <- "1"
L[2] <- sapply(L[2],as.numeric)
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso), data=L)
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=L)
summary(l)
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
l <- L$Magistrale[grepl("/",L$Magistrale)]
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", l)
l <- L$Stip_2[grepl("chf",L$Stip_2)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
#L$Stip_2[grepl("£",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
#L$Stip_2[grepl("&",L$Stip_2)] <- as.numeric(sub("\\&.*", "", L$Magistrale))*1.15
#L$Stip_2[grepl("CAD",L$Stip_2)] <- as.numeric(sub("\\CAD.*", "", L$Magistrale))*0.66
#L$Stip_2[grepl("eu",L$Stip_2)] <- as.numeric(sub("\\eu.*", "", L$Magistrale))*1
L[2] [L[2] == "Femmina"] <- "0"
L[2] [L[2] == "Maschio"] <- "1"
L[2] [L[2] == "Elohim"] <- "1"
L[2] [L[2] == "elohim"] <- "1"
L[2] <- sapply(L[2],as.numeric)
tonumeric <- function(A,idx){
for (i in idx){
A[i] <- sapply(A[i],as.numeric)
}
return(A)
}
L<-tonumeric(L,c(3,4,5,8,14))
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=L)
l$fitted.values
summary(L)
boxplot(Stip_1)
boxplot(L$Stip_1)
library(psych)
density(L$Stip_1)
plot(L$Stip_1)
?density
density(L$Stip_1,na.rm = TRUE)
plot(density(L$Stip_1,na.rm = TRUE))
L$Stip_1
summary(L$Stip_1)
L[14] [L[14] <= 1000] <- "NA"
L[14] [L[14] <= 1000] <- "NA"
#Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", l)
l <- L$Stip_2[grepl("chf",L$Stip_2)]
l <- L$Magistrale[grepl("/",L$Magistrale)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
L[2] [L[2] == "Femmina"] <- "0"
L[2] [L[2] == "Maschio"] <- "1"
L[2] [L[2] == "Elohim"] <- "1"
L[2] [L[2] == "elohim"] <- "1"
L[2] <- sapply(L[2],as.numeric)
tonumeric <- function(A,idx){
for (i in idx){
A[i] <- sapply(A[i],as.numeric)
}
return(A)
}
L[14] [L[14] <= 1000] <- "NA"
L<-tonumeric(L,c(3,4,5,8,14))
plot(density(L$Stip_1,na.rm = TRUE))
View(L)
L[14] [L[14] <= 1000] <- 0
L[14] [L[14] <= 1000] <- NA
View(L)
plot(density(L$Stip_1,na.rm = TRUE))
l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=L)
l
summary(l)
l <- lm(Stip_1 ~ Triennale + Magistrale + Anno + Sesso, data=L)
summary(l)
l <- lm(Stip_1 ~ Triennale + Durata + Anno + Sesso, data=L)
summary(l)
summary(L$Stip_1)
plot(density(log(L$Stip_1),na.rm = TRUE))
plot(density(log(log(L$Stip_1)),na.rm = TRUE))
shapiro.test(log(L$Stip_1))
shapiro.test(log(log(L$Stip_1)))
shapiro.test(log(log(log(L$Stip_1))))
l <- lm(Stip_1 ~ Triennale + Durata + Anno + Sesso, data=L)
l <- lm(Stip_1 ~ Triennale + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ Triennale + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ log(Triennale) + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ Triennale^3 + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ Triennale^2 + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ Triennale + Durata + Anno + Sesso, data=L)
summary(l)
l <- lm(log(Stip_1) ~ Triennale + Durata + Anno^4 + Sesso, data=L)
summary(l)
l <- lm(log(log(Stip_1)) ~ Triennale + Durata + Anno + Sesso, data=L)
summary(l)
library(readr)
AIM_in_Finance_2020 <- read_csv("C:/Users/ffede/Downloads/AIM in Finance 2020.csv/AIM in Finance 2020.csv")
View(AIM_in_Finance_2020)
library(readr)
Alfio_Quarteroni_AIM_2020 <- read_csv("C:/Users/ffede/Downloads/Alfio Quarteroni @AIM 2020.csv/Alfio Quarteroni @AIM 2020.csv")
View(Alfio_Quarteroni_AIM_2020)
a <- Alfio_Quarteroni_AIM_2020
f <- AIM_in_Finance_2020
a
summary(a)
summary(f)
summary(a)
summary(f)
View(Lavoro19_20)
library(readr)
M <- read_csv("C:/Users/ffede/Downloads/Maurizio Grasselli @AIM 2020.csv/Maurizio Grasselli @AIM 2020.csv")
View(M)
summary(M)
install.packages("CatBoost")
install.packages('devtools')
devtools::install_url('BINARY_URL'[, INSTALL_opts = c("--no-multiarch")])
install.packages('devtools')
devtools::install_url('https://github.com/catboost/catboost/releases/download/v0.20/catboost-R-Windows-0.20.tgz', INSTALL_opts = c("--no-multiarch"))
install.packages('devtools')
devtools::install_url('https://github.com/catboost/catboost/releases/download/v0.20/catboost-R-Windows-0.20.tgz', INSTALL_opts = c("--no-multiarch"))
library(catboost)
require(readxl)
Lavoro19_20 <- read_excel("C:/Users/ffede/Downloads/Lavoro19_20.xlsx")
L <- Lavoro19_20
names(L) <- c("Ora","Sesso","Triennale","Magistrale","Durata","Mod","Quando_L",
"Anno","Maj","Sett_1","Dott","Az_1","Naz_1","Stip_1","Id_Lav",
"Uni_Dott","Stip_D","Acc","Util","Tipo","Progress",
"Sett_2","Az_2","Naz_2","Stip_2","Sodd_L","Sodd_C","Prep_Mtm",
"Soft","Hard","Att","Tri","Mag","Int","Era","Corsi","Extra",
"Tesi","Altro","Sugg")
L$Triennale[L$Triennale=="09"] <- "90"
L$Triennale[grepl("L",L$Triennale)] <- "111"
L$Triennale[grepl("l",L$Triennale)] <- "111"
l <- L$Triennale[grepl("/",L$Triennale)]
L$Triennale[grepl("/",L$Triennale)] <- sub("\\/.*", "", l)
L$Magistrale[grepl("L",L$Magistrale)] <- "111"
L$Magistrale[grepl("l",L$Magistrale)] <- "111"
l <- L$Magistrale[grepl("/",L$Magistrale)]
L$Magistrale[grepl("/",L$Magistrale)] <- sub("\\/.*", "", l)
l <- L$Stip_2[grepl("chf",L$Stip_2)]
L$Stip_2[grepl("chf",L$Stip_2)] <- as.numeric(sub("\\chf.*", "", l))*0.95
L$Stip_2[grepl("£",L$Stip_2)] <- as.numeric(sub("\\£.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("&",L$Stip_2)] <- as.numeric(sub("\\&.*", "", L$Magistrale))*1.15
L$Stip_2[grepl("CAD",L$Stip_2)] <- as.numeric(sub("\\CAD.*", "", L$Magistrale))*0.66
L$Stip_2[grepl("eu",L$Stip_2)] <- as.numeric(sub("\\eu.*", "", L$Magistrale))*1
L[2] [L[2] == "Femmina"] <- "0"
L[2] [L[2] == "Maschio"] <- "1"
L[2] [L[2] == "Elohim"] <- "1"
L[2] [L[2] == "elohim"] <- "1"
L[2] <- sapply(L[2],as.numeric)
tonumeric <- function(A,idx){
for (i in idx){
A[i] <- sapply(A[i],as.numeric)
}
return(A)
}
L<-tonumeric(L,c(3,4,5,8,14))
L[14] [L[14] <= 1000] <- NA
L_num <- L[c(3,4,5,8,14)]
plot(density(L$Stip_1,na.rm = TRUE))
#l <- lm(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=L)
library(corrplot)
res1 <- cor.mtest(L_num, conf.level = .95)
C <- cor(L_num,use = "complete.obs")
corrplot(C,method = "number",p.mat = res1$p, sig.level = .05, insig = 'pch')
library(catboost)
NA2mean <- function(x) replace(x, is.na(x), mean(x, na.rm = TRUE))
L <- lapply(L[,14], NA2mean)
X = as.matrix(L[,c(2,3,4,5,8)])
y = as.matrix(L[,14])
train_pool <- catboost.load_pool(data = X, label = y)
params <- list(iterations=500,
learning_rate=0.01,
depth=10,
loss_function='RMSE',
eval_metric='RMSE',
random_seed = 1,
od_type='Iter',
metric_period = 50,
od_wait=20,
use_best_model=TRUE)
catboost.train(train_pool, params = params)
X = as.matrix(L[,c(2,3,4,5,8)])
y = as.matrix(L[,14])
source('C:/Users/ffede/Google Drive/AIM_locale/Analisi_Q/Prep.R')
catboost.load_model()
cat <- catboost.train(train_pool, params = params)
cat$tree_count
cat$feature_importances
print(cat)
rfImpute(L[,c(2,3,4,5,8)])
library(randomForest)
rfImpute(L[,c(2,3,4,5,8)])
rfImpute(L[,c(2,3,4,5,8)],L[,14])
rfImpute(L[,c(2,3,4,5,8)],L[,14],data=L)
rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,L[,14],data=L)
rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L)
rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L, ntree= 500)
randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L)
train <- rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L, ntree= 500)
randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train)
rf <- randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train)
rf$mse
rf$rsq
train
rf <- randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train)
rf <- randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train, ntree = 10000)
rf$rsq
train <- rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L, ntree= 500)
train <- rfImpute(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso,data=L, ntree= 500, iter = 10)
rf <- randomForest(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train, ntree = 10000)
rf$importance
rf$forest
rf$oob.times
library(tree)
install.packages("tree")
library(tree)
tr1 <- tree(Stip_1 ~ Triennale + Magistrale + Durata + Anno + Sesso, data=train)
tr1
load("C:/Users/ffede/Downloads/Imp_old.RData")
View(Imp_cart)
v = c(1.3,1.4,1.35,1.45,1.3,1.35,1.2,1.2,1.3,1.45)
y = c(4,3,4,5,-1,1,6,7,5,8)
fit = lm(y~v)
fit
summary(fit)
fit = randomForest(y~v)
library(randomforest)
library(randomForest)
fit = randomForest(y~v)
fit
summary(fit)
fit$rsq
summary(fit)
fit$predicted
fit$y
v
v2 = c(1.30 ,1.40 ,1.35 ,1.45,  1.20, 1.20, 1.30)
y
y2 = c(4,3,4,5,6,7,5)
fit <- lm(y2~v2)
fit
summary(fit)
fit <- randomForest(y2~v2)
summary(fit)
fit$rsq
summary(fit)
fit$predicted
fit$y
library(readr)
excel <- read_delim("C:/Users/ffede/Downloads/excel.xls",
";", escape_double = FALSE, trim_ws = TRUE)
View(excel)
View(excel)
excel.'D27_a'
excel$'D27_a'
summary(excel$'D27_a')
library(readr)
excel <- read_delim("C:/Users/ffede/Nparam/excel.csv",
";", escape_double = FALSE, trim_ws = TRUE)
View(excel)
con<-file('filename',encoding="UTF-8")
write.csv(excel, file=con,append=FALSE,eol="\r")
setwd("C:/Users/ffede/BayNuDes/BDP_2/SIR/Data")
load(Hydromet_202010.RData)
load("Hydromet_202010.RData")
View(Hydromet_202010)
load("Policy.RData")
View(Policy)
Policy[Policy$ID = "IT"]
Policy[Policy$ID == "IT",]
It = Policy[Policy$ID == "IT",]
View(It)
write_csv(It, 'Policy_ITA.csv')
write.csv(It, 'Policy_ITA.csv')
